<Page x:Class="ScienceCenter.Pages.ListEquipmentPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:ScienceCenter.Pages"
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="800"
      Title="ListEquipmentPage">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition Height="8*"/>
            <RowDefinition/>
        </Grid.RowDefinitions>


        <Label x:Name="fio" Content="ФИО" HorizontalAlignment="Right" VerticalAlignment="Center" RenderTransformOrigin="0.395,1.926" FontSize="20" Cursor="Arrow" Height="42" Width="Auto" Margin="400,0,0,0"/>
        <WrapPanel>
            <Button x:Name="exit" Margin="10" Content="ВЫЙТИ" Background="#FFA500" HorizontalAlignment="Left" VerticalAlignment="Center" Height="48" Width="94" FontSize="20" Click="ExitByClick" Grid.Row="0" Cursor="Hand"/>
            <Button x:Name="addEq" Content="ДОБАВИТЬ ОБОРУДОВАНИЕ"  Background="#00FA9A" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="20" Grid.Row="0" Cursor="Hand" Click="AddEquipment"/>
        </WrapPanel>
        <ListBox Grid.Row="1" x:Name="equipmentList" SelectionChanged="SelectElem"  BorderThickness="1" BorderBrush="LightGray" Background="White"  ScrollViewer.VerticalScrollBarVisibility="Auto">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border Padding="10" Margin="0,10,0,10" Height="Auto" Width="750" BorderBrush="LightGray" HorizontalAlignment="Center" BorderThickness="1" CornerRadius="5">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Border Grid.Column="0" Width="100" Height="100" Background="#F5F5F5" BorderBrush="#DDD" BorderThickness="1" CornerRadius="3" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,5,0,0">
                                <Image Source="{Binding BitmapImage}" Stretch="UniformToFill" />
                            </Border>
                            <StackPanel Grid.Column="1" Margin="15,0,0,0" VerticalAlignment="Top">
                                <TextBlock Text="{Binding TitleEquipment}" FontWeight="Bold" FontSize="16" Foreground="#2C3E50" TextWrapping="Wrap"/>
                                <TextBlock Text="{Binding Description}" Margin="0,5,0,0" FontSize="14" Foreground="#34495E" TextWrapping="Wrap" MaxWidth="450"/>
                                <WrapPanel Margin="0,10,0,0">
                                    <TextBlock Text="Аудитория: " FontWeight="SemiBold" Foreground="#7F8C8D"/>
                                    <TextBlock Text="{Binding AuditorNumber}" FontWeight="Medium" Foreground="#16A085" Margin="0,0,15,0"/>
                                    <TextBlock Text="Подразделение: " FontWeight="SemiBold" Foreground="#7F8C8D"/>
                                    <TextBlock Text="{Binding OfficeTitle}" FontWeight="Medium" Foreground="#215" TextWrapping="Wrap" Width="300"/>
                                </WrapPanel>
                                <Border Background="{Binding StatusColor}" Margin="0,10,0,0" CornerRadius="3" Padding="5,2" HorizontalAlignment="Left">
                                    <TextBlock Text="{Binding StatusText}"  FontSize="12" FontWeight="SemiBold"/>
                                </Border>
                            </StackPanel>
                        </Grid>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

        <WrapPanel x:Name="filter" Grid.Row="2" HorizontalAlignment="Center">
            <WrapPanel HorizontalAlignment="Left" VerticalAlignment="Bottom">
                <Label Content="Сортировать" FontSize="20"/>
                <Button Content="⬆️" FontSize="20" x:Name="abs" Background="#FFA500" Margin="2" Padding="5" Click="SortABC"/>
                <Button Content="⬇️" FontSize="20" x:Name="dbs" Background="#FFA500" Margin="2" Padding="5" Click="SortDCB"/>
            </WrapPanel>
            <WrapPanel HorizontalAlignment="Right" Margin="30,0,0,0" VerticalAlignment="Bottom">
                <Label Content="Поиск" FontSize="20"/>
                <TextBox x:Name="search" FontSize="20" Width="316" TextChanged="Search_TextChanged"/>
            </WrapPanel>
            <Button x:Name="back" Margin="30,0,0,0" Content="❌" FontSize="20" Background="#FFA500" HorizontalAlignment="Center" Click="SbrosEquipment"/>
        </WrapPanel>
    </Grid>
</Page>
